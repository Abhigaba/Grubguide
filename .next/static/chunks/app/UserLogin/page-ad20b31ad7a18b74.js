(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{7413:function(e,t,r){Promise.resolve().then(r.bind(r,2684))},2684:function(e,t,r){"use strict";r.r(t);var n=r(7437),o=r(2265),a=r(6463),s=r(2677),c=r(6215),i=r(7138);t.default=()=>{let[e,t]=(0,o.useState)(null),r=(0,a.useRouter)(),{user:l,setUser:u}=(0,c.a)();(0,o.useEffect)(()=>{(async()=>{try{await s.JT.get()&&r.push("/")}catch(e){return}})()},[]);let d=async e=>{e.preventDefault();let n=e.target[0].value,o=e.target[1].value;try{await s.JT.createEmailPasswordSession(n,o),u(await s.JT.get()),console.log("Login page"),r.push("/")}catch(e){u(null),t(e.message)}};function f(e){let{type:t,id:r,name:o,label:a,placeholder:s,autofocus:c}=e;return(0,n.jsxs)("label",{className:"text-gray-500 block mt-3",children:[a,(0,n.jsx)("input",{autoFocus:c,type:t,id:r,name:o,placeholder:s,className:"rounded px-4 py-3 w-full mt-1 bg-white text-gray-900 border border-gray-200 focus:border-indigo-400 focus:outline-none focus:ring focus:ring-indigo-100"})]})}return(0,n.jsx)("div",{className:"bg-gray-200 flex justify-center items-center h-screen w-screen",children:(0,n.jsxs)("div",{className:"relative border-t-8 rounded-sm border-indigo-600 bg-white px-12 pt-8 pb-16 shadow-2xl w-96",children:[(0,n.jsx)("h1",{className:"font-bold text-center block text-2xl",children:"Log In"}),(0,n.jsxs)("form",{onSubmit:e=>d(e),children:[(0,n.jsx)(f,{type:"email",id:"email",name:"email",label:"Email Address",placeholder:"me@example.com",autofocus:!0}),(0,n.jsx)(f,{type:"password",id:"password",name:"password",label:"Password",placeholder:"••••••••••"}),(0,n.jsx)(function(e){let{value:t}=e;return(0,n.jsx)("button",{className:"mt-6 transition-all block py-3 px-4 w-full text-white font-bold rounded cursor-pointer bg-gradient-to-r from-indigo-600 to-purple-400 hover:from-indigo-700 hover:to-purple-500 focus:bg-indigo-900 transform hover:-translate-y-1 hover:shadow-lg",children:t})},{value:"Submit"})]}),(0,n.jsx)(i.default,{href:"/Register",className:"absolute bottom-7",children:"New User? Sign up"}),e&&(0,n.jsx)("p",{children:e})]})})}},6215:function(e,t,r){"use strict";r.d(t,{H:function(){return c},a:function(){return i}});var n=r(7437),o=r(2265),a=r(2677);let s=(0,o.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{try{let e=await a.JT.get();c(e)}catch(e){c(null)}})()},[]),(0,n.jsx)(s.Provider,{value:{user:r,setUser:c},children:t})},i=()=>(0,o.useContext)(s)},2677:function(e,t,r){"use strict";r.d(t,{IR:function(){return i},JT:function(){return a},LQ:function(){return l},eA:function(){return c}});var n=r(8999);let o=new n.KU;o.setEndpoint("https://cloud.appwrite.io/v1").setProject("669a9c1b00360023a16b");let a=new n.mR(o),s=new n.Lg(o),c=async e=>{try{return(await s.listDocuments("Aerish","66bee3d80016fb8619c3",[n.AE.equal("userId",e)])).documents}catch(e){console.error("Error fetching favorites:",e)}},i=async(e,t)=>{try{return await s.createDocument("Aerish","66bee3d80016fb8619c3","unique()",{userId:e,placeId:t.id,name:t.name,formatted_address:t.formatted_address,photo_ref:t.photos?t.photos[0].photo_reference:"",rating:t.rating})}catch(e){console.log(typeof t.rating),console.error("Error adding favorite:",e)}},l=async e=>{try{await s.deleteDocument("Aerish","66bee3d80016fb8619c3",e)}catch(e){console.error("Error removing favorite:",e)}}}},function(e){e.O(0,[781,138,971,23,744],function(){return e(e.s=7413)}),_N_E=e.O()}]);