(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{4941:function(e,t,r){Promise.resolve().then(r.bind(r,3716))},3716:function(e,t,r){"use strict";r.r(t);var a=r(7437),n=r(2265),o=r(2677),s=r(6463),i=r(6215),c=r(8999),l=r(7138);t.default=()=>{let[e,t]=(0,n.useState)(""),[r,u]=(0,n.useState)(!1),d=(0,s.useRouter)(),{setUser:f}=(0,i.a)();(0,n.useEffect)(()=>{(async()=>{try{await o.JT.get()&&d.push("/")}catch(e){return}})()},[]);let h=async e=>{e.preventDefault();let r=e.target[0].value,a=e.target[1].value,n=e.target[2].value;try{if(n.length<8)throw u(!0),{message:"Password length must be greater than 8"};await o.JT.create(c.ID.unique(),a,n,r)&&(await o.JT.createEmailPasswordSession(a,n),f(await o.JT.get()),console.log("Register login"),d.push("/"))}catch(e){t(e.message)}};function m(e){let{type:t,id:r,name:n,label:o,placeholder:s,autofocus:i,className:c=!1}=e;return(0,a.jsxs)("label",{className:"text-gray-500 block mt-3",children:[o,(0,a.jsx)("input",{autoFocus:i,type:t,id:r,name:n,placeholder:s,className:"rounded px-4 py-3 w-full mt-1 bg-white text-gray-900 border border-gray-200 focus:border-indigo-400\n             focus:outline-none  ".concat(c?"focus:ring-red-500":"focus:ring-indigo-100")})]})}return(0,a.jsx)("div",{className:"bg-gray-200 flex justify-center items-center h-screen w-screen",children:(0,a.jsxs)("div",{className:" border-t-8 rounded-sm border-indigo-600 relative bg-white px-12 pt-8 pb-16 shadow-2xl w-96",children:[(0,a.jsx)("h1",{className:"font-bold text-center block text-2xl",children:"Register"}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsx)(m,{type:"text",id:"name",name:"name",label:"User_name",placeholder:"Username",autofocus:!0}),(0,a.jsx)(m,{type:"email",id:"email",name:"email",label:"Email Address",placeholder:"me@example.com",autofocus:!0}),(0,a.jsx)(m,{type:"password",id:"password",name:"password",label:"Password",placeholder:"••••••••••",className:!!r}),(0,a.jsx)(function(e){let{value:t}=e;return(0,a.jsx)("button",{type:"submit",className:"mt-6 transition-all block py-3 px-4 w-full text-white font-bold rounded cursor-pointer bg-gradient-to-r from-indigo-600 to-purple-400 hover:from-indigo-700 hover:to-purple-500 focus:bg-indigo-900 transform hover:-translate-y-1 hover:shadow-lg",children:t})},{value:"Register"})]}),(0,a.jsx)(l.default,{href:"/UserLogin",className:"absolute bottom-6",children:"Already Registered? Log In"}),e&&(0,a.jsx)("p",{children:e})]})})}},6215:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return c}});var a=r(7437),n=r(2265),o=r(2677);let s=(0,n.createContext)(),i=e=>{let{children:t}=e,[r,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=await o.JT.get();i(e)}catch(e){i(null)}})()},[]),(0,a.jsx)(s.Provider,{value:{user:r,setUser:i},children:t})},c=()=>(0,n.useContext)(s)},2677:function(e,t,r){"use strict";r.d(t,{IR:function(){return c},JT:function(){return o},LQ:function(){return l},eA:function(){return i}});var a=r(8999);let n=new a.KU;n.setEndpoint("https://cloud.appwrite.io/v1").setProject("669a9c1b00360023a16b");let o=new a.mR(n),s=new a.Lg(n),i=async e=>{try{return(await s.listDocuments("Aerish","66bee3d80016fb8619c3",[a.AE.equal("userId",e)])).documents}catch(e){console.error("Error fetching favorites:",e)}},c=async(e,t)=>{try{return await s.createDocument("Aerish","66bee3d80016fb8619c3","unique()",{userId:e,placeId:t.id,name:t.name,formatted_address:t.formatted_address,photo_ref:t.photos?t.photos[0].photo_reference:"",rating:t.rating})}catch(e){console.log(typeof t.rating),console.error("Error adding favorite:",e)}},l=async e=>{try{await s.deleteDocument("Aerish","66bee3d80016fb8619c3",e)}catch(e){console.error("Error removing favorite:",e)}}}},function(e){e.O(0,[781,138,971,23,744],function(){return e(e.s=4941)}),_N_E=e.O()}]);